<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: load-question.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: load-question.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * loads current question 
 * @param {number} currNum
 */
function loadQuestion(currNum) {
    $.get("questions/" + currNum + ".json", function (questionJson) {
        //let qObj = $.parseJSON(data);
        $.get("questions/" + currNum + ".html", function (questionHtml) {
            $(".container-fluid").children().first().replaceWith(questionHtml);
            setProgressBar(currNum);
            setHeader(currNum);
            if(questionJson.time > 0){
                $('&lt;div id="timer">&lt;/div>').insertBefore(".bottom-right");
                startTimer(questionJson.time);
            }
        });
    });
}

//convert state into number of current question
/* function calcQNr(){
    return stateToAnswerList().length;
} */

/**
 * @param {String} state
 * @return {number} currNum
 */
function calcQNr(state){
    let alLength = 5;
    let currNum = 0;
    let i = 0;
    while(i &lt; state.length){
        currNum++;
        let answerCount = alLength + parseInt(state.substring(i, i+alLength),2);
        i += answerCount;
    }
    return currNum;
}

/**
 * sets the progress bar according to current question number
 * @param {number} currNum 
 */
function setProgressBar(currNum){
    $(".progress").empty();
    for(let i = 0; i &lt;= currNum; i++){
        $(".progress").append('&lt;div class="progress-bar-active">&lt;/div>');
    }
    for(let j = 0; j &lt; Qcount - currNum; j++){
        $(".progress").append('&lt;div class="progress-bar-inactive">&lt;/div>');
    }
}

/**
 * sets header according to current question number
 * @param {number} currNum 
 */
function setHeader(currNum){
    $(".breadcrumb").empty();
    let i = 0;
    let currCat = null;
    for(let [key, value] of getCategories()){
        for(let j = i; j &lt; i + value; j++){
            if(j == currNum){
                currCat = key;
                break;
            }
        }
        if(currCat == key){
            $(".breadcrumb").append('&lt;li id="' + key + '" class="breadcrumb-item active" aria-current="PI" style="color:black">&lt;a>' +  key  + '&lt;/a>&lt;/li>')
        } else {
            $(".breadcrumb").append('&lt;li id="' + key + '" class="breadcrumb-item">&lt;a>' +  key  + '&lt;/a>&lt;/li>');
        }
        i += value;
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addConclusion">addConclusion</a></li><li><a href="global.html#answerListToBinary">answerListToBinary</a></li><li><a href="global.html#answerListToBitString">answerListToBitString</a></li><li><a href="global.html#base64StringFromBytes">base64StringFromBytes</a></li><li><a href="global.html#binaryStringFromBytes">binaryStringFromBytes</a></li><li><a href="global.html#binaryStringToState">binaryStringToState</a></li><li><a href="global.html#bytesFromBase64String">bytesFromBase64String</a></li><li><a href="global.html#bytesFromBinaryString">bytesFromBinaryString</a></li><li><a href="global.html#calcQNr">calcQNr</a></li><li><a href="global.html#evaluate">evaluate</a></li><li><a href="global.html#fillEvaluation">fillEvaluation</a></li><li><a href="global.html#getAnswerList">getAnswerList</a></li><li><a href="global.html#loadEvaluation">loadEvaluation</a></li><li><a href="global.html#loadQuestion">loadQuestion</a></li><li><a href="global.html#loadQuestionOrEvaluation">loadQuestionOrEvaluation</a></li><li><a href="global.html#setHeader">setHeader</a></li><li><a href="global.html#setProgressBar">setProgressBar</a></li><li><a href="global.html#setUpEvaluation">setUpEvaluation</a></li><li><a href="global.html#showFraction">showFraction</a></li><li><a href="global.html#startTimer">startTimer</a></li><li><a href="global.html#stateToAnswerList">stateToAnswerList</a></li><li><a href="global.html#stateToAnswers">stateToAnswers</a></li><li><a href="global.html#stateToBinaryString">stateToBinaryString</a></li><li><a href="global.html#updateState">updateState</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Nov 11 2018 19:48:58 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
